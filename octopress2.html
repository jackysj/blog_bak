
<!DOCTYPE html>
<html lang="zh">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="./theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="./theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/font-awesome.min.css">


    <link href="//jacky-sj/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Jacky MSC Atom">


    <link rel="shortcut icon" href="/images/images.ico" type="image/x-icon">
    <link rel="icon" href="/images/images.ico" type="image/x-icon">

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="index, follow" />


<meta name="author" content="Jacky Gong" />
<meta name="description" content="记录修改 Octopress 配置的过程" />
<meta name="keywords" content="blog">
<meta property="og:site_name" content="Jacky MSC"/>
<meta property="og:title" content="记录：Octopress配置修改之旅"/>
<meta property="og:description" content="记录修改 Octopress 配置的过程"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="./octopress2.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2014-02-26 15:40:00+08:00"/>
<meta property="article:modified_time" content="2017-03-29 20:30:00+08:00"/>
<meta property="article:author" content="./author/jacky-gong.html">
<meta property="article:section" content="Octopress"/>
<meta property="article:tag" content="blog"/>
<meta property="og:image" content="/images/images.png">

  <title>Jacky MSC &ndash; 记录：Octopress配置修改之旅</title>

</head>
<body>
  <aside>
    <div>
      <a href=".">
        <img src="/images/images.png" alt="Jacky MSC" title="Jacky MSC">
      </a>
      <h1><a href=".">Jacky MSC</a></h1>

<p>Thoughts and Writings</p>
      <nav>
        <ul class="list">

          <li><a href="https://old.jacky-sj.com/" target="_blank">Old</a></li>
          <li><a href="mailto:jackycodemsc@gmail.com" target="_blank">Email</a></li>
          <li><a href="/about.html" target="_blank">About</a></li>
        </ul>
      </nav>

      <ul class="social">
        <li><a class="sc-weibo" href="http://weibo.com/jackycode" target="_blank"><i class="fa fa-weibo"></i></a></li>
        <li><a class="sc-github" href="https://github.com/jackysj" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-rss" href="/feeds/all.atom.xml" target="_blank"><i class="fa fa-rss"></i></a></li>
      </ul>
    </div>


  </aside>
  <main>

    <nav>
      <a href=".">    Home
</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>

      <a href="//jacky-sj/feeds/all.atom.xml">    Atom
</a>

    </nav>

<article class="single">
  <header>
    <h1 id="octopress2">记录：Octopress配置修改之旅</h1>
    <p>
          Posted on 2014-02-26 in <a href="./category/octopress.html">Octopress</a>


    </p>
  </header>


  <div>
    <p><em>“文章原创，转载请注明出处”</em></p>
<hr>
<p>花了两天的时间对主题进行了修改，由于对Web的东西了解的不多，查资料找东西修改代码着实累了一把(丫的，这些代码可读性很强，比起R，Python神马的可是容易学的多。只是要看懂框架还真是需要大大的一番功夫，而且怎么修改CSS做效果，作为门外汉的我是真心欲哭无泪啊)。</p>
<p>本来想把网页做得美观大方简洁，高大上吧反正。最终出来这么个效果，虽说离高大上远了点，但我也就算是满意了，起码它是自己独有的，也算是独一无二了。</p>
<hr>
<p>在修改配置的过程中发现了一些东西，在这里做个小记录。</p>
<h4>1. 安装第三方主题的结果</h4>
<p>由于想偷懒，所以一开始就想直接使用现有的第三方主题，安装的主题多了之后，发现一个很严重的问题。那就是当我对一些配置进行修改后，发现网页根本没有作出反应。最终我在网页审查元素时发现，我做的很多修改都被其它设置覆盖掉了。很多主题同时安装会导致出现越来越多的配置文件，最终配置混乱难以修改。但是我只是遇到字体啊，颜色啊一类小的问题，大的问题倒是没有遇到。</p>
<p>有了这个教训，我就将所有的内容重新部署之后，使用默认主题进行修改，这样的好处是，没有那么多杂七杂八的配置文件，找个什么东西也比较方便。</p>
<h4>2. 统一文章的样式</h4>
<p>之前发过两篇博文，第一篇很短，第二篇很长。直接发上去的结果就是列表页面太长，看起来很难受。所以就决定采用<code>read on</code>的方法，在文中加了<code>&lt;!-- more --&gt;</code>之后的确或多或少解决了这个问题。</p>
<p>但是不同的文章无法控制其样式统一，保持好的视觉效果。后来在<a href="http://beyondvincent.com/">破船之家</a>网站和<a href="http://www.uiweek.com/">UIWeek</a>杂志上得到了启发；最终决定将博客的<strong>Header</strong>设定成蓝色渐变，每一篇日志都以蓝色图片的形式出现在列表，更多的内容就放到博文内部。这样一来就能够保证样式统一，而且看起来比较简洁，换个专业点的话就是学习成本低（呵呵）。</p>
<h4>3. 隐藏侧边栏</h4>
<p>对于我这种有洁癖的人来说，大部分情况下侧边栏不存在比较好(难得看到一个侧边栏存在还好看简洁的网站)，所以打一开始就是要结束它的。要想做到这个效果，需要修改<code>_config.yml</code>文件：</p>
<div class="highlight"><pre><span class="code-line"><span></span># remove the sidebar</span>
<span class="code-line">default_asides: []</span>
<span class="code-line">sidebar: collapse</span>
</pre></div>


<p>即将<code>default_asides</code>里面的东西全删掉，然后添加<code>sidebar: collapse</code>就可以了。</p>
<h4>4. 添加多说评论</h4>
<p>首先去<a href="http://duoshuo.com/">多说</a>注册帐号，然后多说会给你一段代码，如下：</p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="c">&lt;!-- Duoshuo Comment BEGIN --&gt;</span></span>
<span class="code-line"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;ds-thread&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span></span>
<span class="code-line"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span></span>
<span class="code-line">  <span class="kd">var</span> <span class="nx">duoshuoQuery</span> <span class="o">=</span> <span class="p">{</span><span class="nx">short_name</span><span class="o">:</span><span class="s2">&quot;yourname&quot;</span><span class="p">};</span></span>
<span class="code-line">  <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span></span>
<span class="code-line">        <span class="kd">var</span> <span class="nx">ds</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">);</span></span>
<span class="code-line">        <span class="nx">ds</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s1">&#39;text/javascript&#39;</span><span class="p">;</span><span class="nx">ds</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span></span>
<span class="code-line">        <span class="nx">ds</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s1">&#39;http://static.duoshuo.com/embed.js&#39;</span><span class="p">;</span></span>
<span class="code-line">        <span class="nx">ds</span><span class="p">.</span><span class="nx">charset</span> <span class="o">=</span> <span class="s1">&#39;UTF-8&#39;</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;head&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span></span>
<span class="code-line">         <span class="o">||</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">ds</span><span class="p">);</span></span>
<span class="code-line">  <span class="p">})();</span></span>
<span class="code-line"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></span>
<span class="code-line"><span class="c">&lt;!-- Duoshuo Comment END --&gt;</span></span>
</pre></div>


<p>你获得的代码跟这段唯一的区别就在于short_name不同。然后：</p>
<h6>a. 在<code>_config.yml</code>文件中添加：</h6>
<div class="highlight"><pre><span class="code-line"><span></span># duoshuo comments</span>
<span class="code-line">duoshuo_comments: true</span>
</pre></div>


<h6>b. 在<code>source/_layouts/post.html</code>中添加多说的模块：</h6>
<div class="highlight"><pre><span class="code-line"><span></span>{% if site.duoshuo_short_name and site.duoshuo_comments == true and page.comments == true %}</span>
<span class="code-line">  <span class="p">&lt;</span><span class="nt">section</span><span class="p">&gt;</span></span>
<span class="code-line">        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Comments<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span></span>
<span class="code-line">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;comments&quot;</span> <span class="na">aria-live</span><span class="o">=</span><span class="s">&quot;polite&quot;</span><span class="p">&gt;</span>{% include post/abc.html %}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span></span>
<span class="code-line">  <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span></span>
<span class="code-line">{% endif %}</span>
<span class="code-line"></span>
<span class="code-line"><span class="c">&lt;!-- 其中`abc.html`随便你起什么名字，个人建议为`duoshuo.html`. --&gt;</span></span>
</pre></div>


<h6>c. 创建<code>source/_includes/post/duoshuo.html</code>，并把多说给你的代码放进去就OK了。</h6>
<h6>d. 发布到博客上</h6>
<div class="highlight"><pre><span class="code-line"><span></span>rake generate</span>
<span class="code-line">git add .</span>
<span class="code-line">git commit -m &#39;add duoshuo comment&#39;</span>
<span class="code-line">git push origin source</span>
<span class="code-line">rake deploy</span>
</pre></div>


<h6>e. 打完收工</h6>
<h4>5. 修改样式</h4>
<p>对于样式的修改，需要学习CSS。以前虽然在<a href="http://www.codecademy.com/">Codecademy</a>上看过一点，但是从没有自己真正用过，所以也还算是初学。我对样式的修改大致就是将<strong>Header</strong>，<strong>Navigation</strong>以及<strong>Artical</strong>这些部分分开来，对不同的部分使用了一些特效。有些代码是在网上搜到后自己稍作了修改，有些是原创，有兴趣可以直接到我的GitHub网站上去看，不要告诉我找不到它在哪哦。</p>
<hr>
<h3>总结</h3>
<p>花了两天修改，发现其实干的事情并不很多。仔细想来大部分修改的时间都在调整不同的系数，以及在网上看材料。这两天学到的东西很多，也让我发现很多很好玩的东西，比如Web的框架，特效，还有很多很好很美的设计，大爱！</p>
<h4>参考</h4>
<ol>
<li><a href="http://beyondvincent.com/">破船之家</a></li>
<li><a href="http://www.uiweek.com/">UIWeek</a></li>
<li><a href="http://octopress.org/">Octopress官网</a></li>
<li><a href="http://shanewfx.github.io/blog/2012/08/13/improve-blog-theme/">Octopress主题改造</a></li>
<li><a href="http://www.jcodecraeer.com/a/cssjiqiaoyuguifan/2012/0628/289.html">css实现简约的纸张卷角效果</a></li>
<li><a href="http://www.cnblogs.com/oec2003/archive/2013/05/31/3109577.html">Octopress博客设置</a></li>
<li><a href="https://www.google.com.hk/search?q=Octopress%E4%B8%BB%E9%A2%98%E6%94%B9%E9%80%A0&amp;oq=Octopress%E4%B8%BB%E9%A2%98%E6%94%B9%E9%80%A0&amp;aqs=chrome..69i57&amp;sourceid=chrome&amp;espv=210&amp;es_sm=119&amp;ie=UTF-8">。。。</a></li>
</ol>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="./tag/blog.html">blog</a>
    </p>
  </div>


    <div class="addthis_relatedposts_inline">


<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'jacky-msc';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
        Please enable JavaScript to view comments.

</noscript>
</article>

    <footer>
<p>
  &copy; Jacky Gong 2014-2017 - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
         src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p>    </footer>
  </main>





<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Jacky MSC ",
  "url" : ".",
  "image": "/images/images.png",
  "description": ""
}
</script>

</body>
</html>